達人プログラマーを読んで
Q. 十分に良いソフトウェアとは？
Q. 良い設計とは？
■DRY 原則:ドメインの知識は常に変化する。従って、開発者は仕様書やソースコードを常にメンテナンスしなくてはならない。
従って、容易に変更できるように修正箇所を素早く見つけれたり、修正箇所は 1 箇所にしたい。
Do not Repeat Yourself

■ 直行性：片方を変更しても、もう片方の影響を与えないという特徴。（結合度が低い）
直交していないシステムは、変更や制御が難しい。システムコンポーネント間の依存度が高い場合、局所的な修正で済まない。
関係のないもの同士の影響を排除すること
コンポーネント同士が独立していると、他の部分を気にせずに変更することができる。
直交性がある設計となっているかを確認する方法は、「仮に仕様が変わった場合に、どれだけのモジュールに影響が及ぶかという質問を自らに投げかけてみる。」

例えば、顧客の識別に「電話番号」を使っているとする。電話会社が市内局番を変えたらどうなるか。このような外部の識別子を（統制できない属性に頼るのは止めるべき）

コードの結合度を最小化する。
不必要な情報は他のモジュールの公開せず、また他のモジュールの実装をあてにしない。
オブジェクトの状態を変更する必要がある場合は、オブジェクト自身に行わせる。

グローバル変数を避ける。
コード内のグローバル変数にアクセスするたびにそのコードはデータを共有している他のコンポーネントと結び付けられている。（参照しかしない場合であっても、マルチスレッド化したりすると問題になる。）

分離
知らなくて良いことは、公開しない。該当のオブジェクトが何を知っているべきかというのは大事な考えかも。

TDA
デメヘルの原則

イベント
FSM(有限状態機械)
オブザーバーパターン
Publish/Subscribe
リアクティブプログラミング・ストリーム

インヘリタンス税を使わずに

- mixin
- interface とプロトコル
- 移譲

設定
Configuration as a Service

https://www.sigmact.com/updated/azure/security/keyvault-separate-configuration/

偶発的プログラミング
事実でない仮定は全てのプロジェクトに取って有害

慎重なプログラミング

- 常に何をやっているのかを意識する
- 新人プログラマーに説明できるか
- 目隠しでコーディングしてはいけない。
- 信頼の蹴る物事だけを前提として進める。
- 仮定をドキュメント化する
- 仮定もテストする。
- 作業に優先順位をつける。
- 既存のコードによって未来のコードが影響されないようにする。自分の書いたコードが次に行う作業の制約になってはいけない。

ちゃんと動いているように見えていても、道西している理由がわからない場合、それが偶発的なのかどうかを見極める。

リファクタリング

マーチンファウラー
https://martinfowler.com/
アナリシスパターン
リファクタリング
エンタープライズアーキテクチャアプリケーションパターン

外部から見た振る舞いに変化をきたすことなく、内部の構造を変更すること

リファクタリングの核心それは、再設計。チームが設計してきたものを、新たな事実、深まった理解、変更された要求と言った光を当てることで再設計する。

テストの主な利点は、テストについて考え、テストについて記述しているときにあり、テストを実行している時ではない。

ソフトウェアを構築する唯一の方法はインクリメンタルに進めていくもの

達人のチーム
割れた窓を無くす
誰も修正しない小さな欠陥を見過ごさない。チーム全員で品質管理を行うべき。

カーゴカルト
